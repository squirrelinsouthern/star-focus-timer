<view class="container">

  <!-- 个人信息 -->
  <view class="personal">
      <view class="avatar">
        <open-data type="userAvatarUrl"></open-data>
      </view> 
      <open-data class="name" type="userNickName"></open-data>
      <view class="question">
        <icon type="info" color="salmon" size="16"></icon>
        <button open-type="contact" class="bb">问题反馈</button>
      </view>  
  </view>

   <!-- tabs -->
   <view class="tabs">
    <view data-name="history" class="{{ choose === 'history' && 'active'}}" 
          bindtap="changeButton">任务历史</view>
    <view data-name="done" class="{{ choose === 'done' && 'active'}}" 
          bindtap="changeButton">完成任务</view>
   </view>

   <!-- 任务历史Lists -->
   <scroll-view scroll-y="true" class="scroll" wx:if="{{ choose === 'history' && 'active'}}">
      <view wx:for="{{history}}" wx:for-index="index" wx:for-item="item" 
            wx:key="index" class="item">
          <wxs src="../../lib/formattor.wxs" module="formattor"></wxs>
          <view class="index">{{formattor.monthFormat(index)}}</view>  
          <view wx:for="{{history[index]}}" wx:for-index="num"
              wx:key="num" class="list">
              <view class="time">{{formattor.dateFormat(item.created_at,"hh:mm")}}</view> 
              <view class="detail">{{item.description}}</view> 
          </view>
      </view>
   </scroll-view>

   <!-- 完成任务Lists -->
    <scroll-view scroll-y="true" class="scroll" wx:if="{{ choose === 'done' && 'active'}}">
      <view wx:for="{{history}}" wx:for-index="index" wx:for-item="item" 
            wx:key="index" class="item">
          <wxs src="../../lib/formattor.wxs" module="formattor"></wxs>
          <view class="index">{{formattor.monthFormat(index)}}</view>  
          <view wx:for="{{history[index]}}" wx:for-index="num"
              wx:key="num" class="list">
              <view class="time">{{formattor.dateFormat(item.created_at,"hh:mm")}}</view> 
              <view class="detail">{{item.description}}</view> 
          </view>
      </view>
   </scroll-view>
  
</view>
